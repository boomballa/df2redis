# df2redis data consistency check configuration example
# Usage: ./bin/df2redis check --config examples/check.sample.yaml

# Dragonfly source configuration
source:
  type: dragonfly
  addr: localhost:16379          # Dragonfly address (modify as needed)
  password: ""                  # Dragonfly password (optional)
  tls: false

# Redis target configuration
target:
  type: redis-cluster           # redis-standalone or redis-cluster
  addr: localhost:6379          # Redis address (any node for cluster mode)
  password: ""                  # Redis password (optional)
  tls: false

# The following parameters are for compatibility (not actually used by check command)
stateDir: ./out
statusFile: ./out/status.json
migrate:
  snapshotPath: /tmp/placeholder.rdb
  shakeBinary: /tmp/placeholder

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# Usage Examples
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
#
# 1. Basic check (outline mode, default)
#    ./bin/df2redis check --config examples/check.sample.yaml
#
# 2. Full value comparison (most strict)
#    ./bin/df2redis check --config examples/check.sample.yaml --mode full
#
# 3. Smart comparison (large keys only compare length)
#    ./bin/df2redis check --config examples/check.sample.yaml --mode smart
#
# 4. Check specific keys only (solve large dataset timeout issues)
#    ./bin/df2redis check --config examples/check.sample.yaml \
#      --filter "user:*|session:*|cache:*"
#
# 5. Advanced usage: smart mode + key filter + multiple rounds
#    ./bin/df2redis check --config examples/check.sample.yaml \
#      --mode smart \
#      --filter "order:*|payment:*" \
#      --compare-times 3 \
#      --interval 5 \
#      --qps 1000 \
#      --parallel 8
#
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# Command-line Parameters
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
#
# --mode              Check mode: full/outline/length/smart (default: outline)
# --filter            Key filter list: "user:*|session:*" (supports wildcards)
# --qps               QPS limit (default: 500)
# --parallel          Concurrency level (default: 4)
# --compare-times     Number of comparison rounds (default: 3)
# --interval          Interval seconds between rounds (default: 5)
# --big-key-threshold Big key threshold in bytes (default: 524288 = 512KB)
# --result-dir        Result output directory (default: ./check-results)
# --log-file          Log file path
# --log-level         Log level: debug/info/warn/error (default: info)
#
